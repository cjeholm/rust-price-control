<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>The price control web UI</title>
    <style>
      body {
        background-color: #1e1e1e;
        color: #ffffff;
        font-family: system-ui, sans-serif;
      }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <script src="/pricecontrol.js"></script>
  <body>
    <!-- <h1>The price control web UI</h1> -->
    <!-- <h3 id="current_spot_price">Current price: unknown</h3> -->

    <div id="Chart">
      <canvas id="priceChart" height="300"></canvas>
    </div>
    <style>
      #Chart {
        width: 100%;
        height: 50vh;
      }
    </style>

    <div id="prices"></div>
    <div id="devices"></div>
    <div id="confighelper">
      <div class="helper-card" id="health">Connecting...</div>
      <div class="helper-card"><a href="listdevices.htm">List devices</a></div>
    </div>
    <div id="footer">
      <p>{{PROJECT_NAME}} version {{PROJECT_VERSION}}</p>
    </div>

    <style>
      #devices,
      #prices,
      #confighelper {
        font-size: 1.1em;
        color: #fff;
        display: flex;
        flex-wrap: wrap;
        margin: 4px 4px 20px 4px;
      }
      .device-card,
      .price-card {
        border: 1px solid #fff;
        padding: 8px;
        margin: 4px;
        border-radius: 6px;
        width: 200px;
        opacity: 0.5;
        transition: opacity 0.2s;
      }

      .helper-card {
        color: #666;
        width: 200px;
        padding: 8px;
        margin: 4px;
      }

      .device-card s {
        opacity: 0.4;
      }

      .helper-card a {
        color: #888;
        text-decoration: none;
      }

      .helper-card a:hover {
        color: #fff;
        text-decoration: underline;
      }

      .device-card:hover {
        opacity: 1;
      }
      .state {
        font-weight: bold;
        padding: 1px 4px;
        border-radius: 4px;
        color: white;
      }

      .state-on {
        background: green;
      }
      .state-off {
        background: red;
      }
      .state-unknown {
        background: gray;
      }

      #footer {
        margin: 8px;
        margin-top: 50px;
        color: #666;
        width: 100%;
      }
    </style>
  </body>
</html>
